{{ define "content-header" }}
<h1>
    Machine
    <small>Version 1.0</small>
</h1>
<ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">machine</li>
</ol>
{{ end }}

{{ define "content"}}

<div class="row">
    <div class="col-md-12">
    {{ template "alter" .}}
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">Machine list in etcd</h3>
                <div class="row">
                    <div style="margin: 15px 10px ">
                        <button data-toggle="modal" data-target="#modal-default" class="btn btn-success">create new
                            machine
                        </button>
                    </div>
                </div>
            </div>

            <!-- /.box-header -->
            <div class="box-body">
                <table class="table table-bordered">
                    <tbody>
                    <tr>
                        <th style="width: 40px">Machine Id</th>
                        <th style="width: 40px">Machine IP</th>
                        <th style="width: 40px">Create Time</th>
                        <th style="width: 40px">Update Time</th>
                    </tr>
                    {{ range $v := .machines}}
                    <tr>
                        <td>{{ $v.id}}</td>
                        <td>{{ $v.ip}}</td>
                        <td>{{ $v.created_timestamp | formatDate }}</td>
                        <td>{{ $v.updated_timestamp | formatDate }}</td>
                    </tr>
                    {{ end}}
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
            <div class="box-footer clearfix">
                <ul class="pagination pagination-sm no-margin pull-right">
                    <li><a href="#">«</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">»</a></li>
                </ul>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="modal-default">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Default Modal</h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="box-body">
                        <div class="form-group" id="CreateMachineIdDiv">
                            <label for="id">ID</label>
                            <input type="text" class="form-control" id="CreateMachineId" placeholder="1~1024">
                        </div>
                        <div class="form-group" id="CreateMachineIpDiv">
                            <label for="ip">IP</label>
                            <input type="text" class="form-control" id="CreateMachineIp"
                                   placeholder="machine ip">
                        </div>
                    </div>
                    <!-- /.box-body -->
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="CreateMachineSubmitButton">Submit</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
{{ end }}

{{ define "scripts" }}
<script src="/static/dist/js/pages/machine.js"></script>
{{ end}}